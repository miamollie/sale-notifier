"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require("aws-sdk");
// Set region
AWS.config.region = process.env.AWS_REGION;
// Create publish parameters
exports.params = {
    Message: "something to do with the sale URL?" /* required */,
    TopicArn: "arn:aws:sns:us-east-1:424795685451:saleTopic",
};
// Create promise and SNS service object
exports.publishMessage = new AWS.SNS().publish(exports.params).promise();
exports.handler = async function () {
    // Handle promise's fulfilled/rejected states
    exports.publishMessage
        .then(function (data) {
        console.log(`Message ${exports.params.Message} sent to the topic ${exports.params.TopicArn}`);
        console.log("MessageID is " + data.MessageId);
    })
        .catch(function (err) {
        console.error(err, err.stack);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FsZS1kZXRlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNhbGUtZGV0ZWN0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBZ0M7QUFDaEMsYUFBYTtBQUNiLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDO0FBRTNDLDRCQUE0QjtBQUNmLFFBQUEsTUFBTSxHQUFHO0lBQ3BCLE9BQU8sRUFBRSxvQ0FBb0MsQ0FBQyxjQUFjO0lBQzVELFFBQVEsRUFBRSw4Q0FBOEM7Q0FDekQsQ0FBQztBQUVGLHdDQUF3QztBQUMzQixRQUFBLGNBQWMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBTSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7QUFFdEUsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLO0lBQ3JCLDZDQUE2QztJQUM3QyxzQkFBYztTQUNYLElBQUksQ0FBQyxVQUFVLElBQVM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FDVCxXQUFXLGNBQU0sQ0FBQyxPQUFPLHNCQUFzQixjQUFNLENBQUMsUUFBUSxFQUFFLENBQ2pFLENBQUM7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDO1NBQ0QsS0FBSyxDQUFDLFVBQVUsR0FBUTtRQUN2QixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQVdTID0gcmVxdWlyZShcImF3cy1zZGtcIik7XG4vLyBTZXQgcmVnaW9uXG5BV1MuY29uZmlnLnJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT047XG5cbi8vIENyZWF0ZSBwdWJsaXNoIHBhcmFtZXRlcnNcbmV4cG9ydCBjb25zdCBwYXJhbXMgPSB7XG4gIE1lc3NhZ2U6IFwic29tZXRoaW5nIHRvIGRvIHdpdGggdGhlIHNhbGUgVVJMP1wiIC8qIHJlcXVpcmVkICovLFxuICBUb3BpY0FybjogXCJhcm46YXdzOnNuczp1cy1lYXN0LTE6NDI0Nzk1Njg1NDUxOnNhbGVUb3BpY1wiLFxufTtcblxuLy8gQ3JlYXRlIHByb21pc2UgYW5kIFNOUyBzZXJ2aWNlIG9iamVjdFxuZXhwb3J0IGNvbnN0IHB1Ymxpc2hNZXNzYWdlID0gbmV3IEFXUy5TTlMoKS5wdWJsaXNoKHBhcmFtcykucHJvbWlzZSgpO1xuXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIC8vIEhhbmRsZSBwcm9taXNlJ3MgZnVsZmlsbGVkL3JlamVjdGVkIHN0YXRlc1xuICBwdWJsaXNoTWVzc2FnZVxuICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgTWVzc2FnZSAke3BhcmFtcy5NZXNzYWdlfSBzZW50IHRvIHRoZSB0b3BpYyAke3BhcmFtcy5Ub3BpY0Fybn1gXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coXCJNZXNzYWdlSUQgaXMgXCIgKyBkYXRhLk1lc3NhZ2VJZCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyciwgZXJyLnN0YWNrKTtcbiAgICB9KTtcbn07XG4iXX0=