"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require("aws-sdk");
// Set region
AWS.config.region = process.env.AWS_REGION; //todo where should I really set this...
// Create publish parameters
exports.params = {
    Message: "something to do with the sale URL?" /* required */,
    TopicArn: "arn:aws:sns:us-east-1:424795685451:saleTopic",
};
// Create promise and SNS service object
exports.publishMessage = new AWS.SNS().publish(exports.params).promise();
exports.handler = async function () {
    // Handle promise's fulfilled/rejected states
    exports.publishMessage
        .then(function (data) {
        console.log(`Message ${exports.params.Message} sent to the topic ${exports.params.TopicArn}`);
        console.log("MessageID is " + data.MessageId);
    })
        .catch(function (err) {
        console.error(err, err.stack);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FsZS1kZXRlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNhbGUtZGV0ZWN0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBZ0M7QUFDaEMsYUFBYTtBQUNiLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsd0NBQXdDO0FBRXBGLDRCQUE0QjtBQUNmLFFBQUEsTUFBTSxHQUFHO0lBQ3BCLE9BQU8sRUFBRSxvQ0FBb0MsQ0FBQyxjQUFjO0lBQzVELFFBQVEsRUFBRSw4Q0FBOEM7Q0FDekQsQ0FBQztBQUVGLHdDQUF3QztBQUMzQixRQUFBLGNBQWMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBTSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7QUFFdEUsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLO0lBQ3JCLDZDQUE2QztJQUM3QyxzQkFBYztTQUNYLElBQUksQ0FBQyxVQUFVLElBQVM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FDVCxXQUFXLGNBQU0sQ0FBQyxPQUFPLHNCQUFzQixjQUFNLENBQUMsUUFBUSxFQUFFLENBQ2pFLENBQUM7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDO1NBQ0QsS0FBSyxDQUFDLFVBQVUsR0FBUTtRQUN2QixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQVdTID0gcmVxdWlyZShcImF3cy1zZGtcIik7XG4vLyBTZXQgcmVnaW9uXG5BV1MuY29uZmlnLnJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT047IC8vdG9kbyB3aGVyZSBzaG91bGQgSSByZWFsbHkgc2V0IHRoaXMuLi5cblxuLy8gQ3JlYXRlIHB1Ymxpc2ggcGFyYW1ldGVyc1xuZXhwb3J0IGNvbnN0IHBhcmFtcyA9IHtcbiAgTWVzc2FnZTogXCJzb21ldGhpbmcgdG8gZG8gd2l0aCB0aGUgc2FsZSBVUkw/XCIgLyogcmVxdWlyZWQgKi8sXG4gIFRvcGljQXJuOiBcImFybjphd3M6c25zOnVzLWVhc3QtMTo0MjQ3OTU2ODU0NTE6c2FsZVRvcGljXCIsXG59O1xuXG4vLyBDcmVhdGUgcHJvbWlzZSBhbmQgU05TIHNlcnZpY2Ugb2JqZWN0XG5leHBvcnQgY29uc3QgcHVibGlzaE1lc3NhZ2UgPSBuZXcgQVdTLlNOUygpLnB1Ymxpc2gocGFyYW1zKS5wcm9taXNlKCk7XG5cbmV4cG9ydHMuaGFuZGxlciA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgLy8gSGFuZGxlIHByb21pc2UncyBmdWxmaWxsZWQvcmVqZWN0ZWQgc3RhdGVzXG4gIHB1Ymxpc2hNZXNzYWdlXG4gICAgLnRoZW4oZnVuY3Rpb24gKGRhdGE6IGFueSkge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBNZXNzYWdlICR7cGFyYW1zLk1lc3NhZ2V9IHNlbnQgdG8gdGhlIHRvcGljICR7cGFyYW1zLlRvcGljQXJufWBcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2VJRCBpcyBcIiArIGRhdGEuTWVzc2FnZUlkKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLCBlcnIuc3RhY2spO1xuICAgIH0pO1xufTtcbiJdfQ==