"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require("aws-sdk");
// Set region
// AWS.config.region = process.env.AWS_REGION;
AWS.config.region = process.env.AWS_REGION;
// Create publish parameters
const params = {
    Message: "something to do with the sale URL?" /* required */,
    TopicArn: "arn:aws:sns:us-east-1:424795685451:saleTopic",
};
// Create promise and SNS service object
const publishMessage = new AWS.SNS().publish(params).promise();
exports.handler = async function () {
    // Handle promise's fulfilled/rejected states
    publishMessage
        .then(function (data) {
        console.log(`Message ${params.Message} sent to the topic ${params.TopicArn}`);
        console.log("MessageID is " + data.MessageId);
        console.log("Data is " + data);
    })
        .catch(function (err) {
        console.error(err, err.stack);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FsZS1kZXRlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNhbGUtZGV0ZWN0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBZ0M7QUFDaEMsYUFBYTtBQUNiLDhDQUE4QztBQUM5QyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztBQUUzQyw0QkFBNEI7QUFDNUIsTUFBTSxNQUFNLEdBQUc7SUFDYixPQUFPLEVBQUUsb0NBQW9DLENBQUMsY0FBYztJQUM1RCxRQUFRLEVBQUUsOENBQThDO0NBQ3pELENBQUM7QUFFRix3Q0FBd0M7QUFDeEMsTUFBTSxjQUFjLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBRS9ELE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSztJQUNyQiw2Q0FBNkM7SUFDN0MsY0FBYztTQUNYLElBQUksQ0FBQyxVQUFVLElBQVM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FDVCxXQUFXLE1BQU0sQ0FBQyxPQUFPLHNCQUFzQixNQUFNLENBQUMsUUFBUSxFQUFFLENBQ2pFLENBQUM7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDOUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDO1NBQ0QsS0FBSyxDQUFDLFVBQVUsR0FBUTtRQUN2QixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQVdTID0gcmVxdWlyZShcImF3cy1zZGtcIik7XG4vLyBTZXQgcmVnaW9uXG4vLyBBV1MuY29uZmlnLnJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT047XG5BV1MuY29uZmlnLnJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT047XG5cbi8vIENyZWF0ZSBwdWJsaXNoIHBhcmFtZXRlcnNcbmNvbnN0IHBhcmFtcyA9IHtcbiAgTWVzc2FnZTogXCJzb21ldGhpbmcgdG8gZG8gd2l0aCB0aGUgc2FsZSBVUkw/XCIgLyogcmVxdWlyZWQgKi8sXG4gIFRvcGljQXJuOiBcImFybjphd3M6c25zOnVzLWVhc3QtMTo0MjQ3OTU2ODU0NTE6c2FsZVRvcGljXCIsXG59O1xuXG4vLyBDcmVhdGUgcHJvbWlzZSBhbmQgU05TIHNlcnZpY2Ugb2JqZWN0XG5jb25zdCBwdWJsaXNoTWVzc2FnZSA9IG5ldyBBV1MuU05TKCkucHVibGlzaChwYXJhbXMpLnByb21pc2UoKTtcblxuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAvLyBIYW5kbGUgcHJvbWlzZSdzIGZ1bGZpbGxlZC9yZWplY3RlZCBzdGF0ZXNcbiAgcHVibGlzaE1lc3NhZ2VcbiAgICAudGhlbihmdW5jdGlvbiAoZGF0YTogYW55KSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYE1lc3NhZ2UgJHtwYXJhbXMuTWVzc2FnZX0gc2VudCB0byB0aGUgdG9waWMgJHtwYXJhbXMuVG9waWNBcm59YFxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZUlEIGlzIFwiICsgZGF0YS5NZXNzYWdlSWQpO1xuICAgICAgY29uc29sZS5sb2coXCJEYXRhIGlzIFwiICsgZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyciwgZXJyLnN0YWNrKTtcbiAgICB9KTtcbn07XG4iXX0=